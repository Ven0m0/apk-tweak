#!/usr/bin/env bash
set -Eeuo pipefail
shopt -s nullglob globstar
export LC_ALL=C LANG=C
IFS=$'\n\t'

main() {
  command -v python3 &>/dev/null || {
    echo "Error: python3 not found in PATH" >&2
    exit 1
  }

  # Resolve project root (supports running from git checkout)
  local src_root
  src_root=$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)

  export PYTHONPATH="${src_root}${PYTHONPATH:+:${PYTHONPATH}}"
  exec python3 -m rvp.cli "$@"
}

main "$@"
